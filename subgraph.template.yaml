specVersion: 0.0.2
description: NuggftV1
repository: https://github.com/nugg-labs/nuggft-subgraph
# features:
#     - nonFatalErrors
schema:
    file: ../../schema.graphql
dataSources:
    - kind: ethereum/contract
      name: NuggftV1
      # prettier-ignore
      network: {{network}}
      source:
          address: '{{nuggft}}'
          abi: NuggftV1
          # prettier-ignore
          startBlock: {{startblock}}
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.6
          language: wasm/assemblyscript
          file: ../../mappings/nuggft.ts
          entities:
              - Protocol
              - Sell
              - Nugg
              - Item
          abis:
              - name: NuggftV1
                file: ../../abis/NuggftV1.json
              - name: DotnuggV1
                file: ../../abis/DotnuggV1.json
          eventHandlers:
              - event: Genesis(uint256,uint32,uint24)
                handler: handleEvent__Genesis
              - event: Mint(uint160,uint96)
                handler: handleEvent__Mint
              - event: Transfer(indexed address,indexed address,indexed uint256)
                handler: handleEvent__Transfer
              - event: Offer(indexed uint160,address,uint96)
                handler: handleEvent__Offer
              - event: OfferItem(indexed uint176,uint160,uint96)
                handler: handleEvent__OfferItem
              - event: Stake(uint256)
                handler: handleEvent__Stake
              - event: DotnuggV1ConfigUpdated(indexed uint256)
                handler: handleEvent__DotnuggV1ConfigUpdated
              - event: Liquidate(indexed uint160,uint96,address)
                handler: handleEvent__Liquidate
              - event: Loan(indexed uint160,uint96)
                handler: handleEvent__Loan
              - event: Sell(indexed uint160,uint96)
                handler: handleEvent__Sell
              - event: SellItem(indexed uint176,uint96)
                handler: handleEvent__SellItem
              - event: Claim(indexed uint160,address)
                handler: handleEvent__Claim
              - event: ClaimItem(indexed uint176,uint160)
                handler: handleEvent__ClaimItem
              #   - event: DotnuggV1ConfigUpdated(indexed uint256)
              #     handler: handleEvent__DotnuggV1ConfigUpdated
          blockHandlers:
              - handler: handleBlock__every
              #   - handler: handleBlock__call
              #     filter:
              #         kind: call
          #   callHandlers:
          #   - function: claim(uint160)
          #     handler: handleCall__claim
          #   - function: claimItem(uint160,uint160,uint16)
          #     handler: handleCall__claimItem
          #   - function: swap(uint160,uint96)
          #     handler: handleCall__swap
          #   - function: swapItem(uint160,uint16,uint96)
          #     handler: handleCall__swapItem
          #   - function: offer(uint160)
          #     handler: handleCall__offer
          #   - function: offerItem(uint160,uint160,uint16)
          #     handler: handleCall__offerItem
          #   - function: loan(uint160)
          #     handler: handleCall__loan
          #   - function: rebalance(uint160)
          #     handler: handleCall__rebalance
          #   - function: liquidate(uint160)
          #     handler: handleCall__liquidate
